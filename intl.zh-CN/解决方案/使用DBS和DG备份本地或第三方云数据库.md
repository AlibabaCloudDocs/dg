# 使用DBS和DG备份本地或第三方云数据库

数据库备份DBS支持通过数据库网关DG（Database Gateway）备份本地IDC或第三方云厂商的私网数据库到云存储，您只需简单几步即可将数据库低成本地接入至阿里云。完成接入后，在配置DBS的逻辑备份时，您可以直接将数据库网关中接入的数据库作为源库。本文将介绍如何通过数据库网关DG备份本地或第三方云的私网数据库到云存储的配置。

在本地或第三方云的数据库接入阿里云时，有以下几种解决方案，但是均存在一定的局限性：

-   通过专线、VPN网关或智能网关接入，成本较高，不适用于个人用户。
-   将数据库的服务端口暴露至公网，存在潜在安全风险。
-   自建代理转发服务请求，稳定性较差，技术成本较高。

数据管理DMS提供了通过数据库网关录入第三方云数据库的功能，无需开放数据库的公网地址即可完成连接，对数据传输进行安全加密，同时免防火墙配置，大大降低使用门槛。了解更多数据库网关的信息，请参见[数据库网关简介](~~124253~~)。

1.  创建数据库网关，详细操作请参见[新建数据库网关](~~122129~~)。

2.  添加目标数据库，详细操作请参见[添加数据库](~~123189~~)。

    数据库网关目前可以免费使用，但在使用过程中有以下注意事项：

    -   确保网关程序所在的机器可以访问公网，但是无需开放端口至公网，同时为保障链路速率及稳定性，公网出口带宽至少为10 Mbps。
    -   确保机器可以连通待接入的数据库，在处于同一内网时可获得更低的网络延迟。
3.  在DBS上配置备份计划，详细操作请参见[配置备份计划](~~59609~~) 。

    在**数据库所在位置**项，选择**无公网IP:Port的自建数据库（通过数据库网DG接入）**，即可将数据库网关中接入的指定数据库设置为源库。

    ![tp](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6699528951/p141350.png)

    **说明：** 如果选择数据库所在位置为**无公网IP:Port的自建数据库（通过数据库网DG接入）**，即不支持跨地域备份，需要源库的实例地区与OSS实例地区需保持一致。


